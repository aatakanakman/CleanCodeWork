

<%- include('partials/_header') -%>

<!-- Page Header -->
<header class="masthead" style="background-image: url('https://images.unsplash.com/photo-1521575107034-e0fa0b594529?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1048&q=80')">
  <div class="overlay"></div>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-md-10 mx-auto">
        <div class="page-heading">
          <h1>Posts</h1>
          <span class="subheading"></span>
        </div>
      </div>
    </div>
  </div>
</header>

  <%- include('partials/_navigation') -%>

  

  <!-- Main Content -->
  <div class="container">
    <div class="row">
      <div class="col-lg-10 col-md-10 mx-auto">

        <% for(let i = 0 ; i < posts.length ; i++) { %>

        <div class="post-preview">
          <a href="/posts/<%= posts[i].slug %>">
            <h2 class="post-title">
              <%= posts[i].title %>
            </h2>
            <h3 class="post-subtitle">
              <%= posts[i].description %>
            </h3>
          </a>
          <span>posted by <%= posts[i].user %> </span>
          <p class="post-meta"><%= (posts[i].dateCreated).toISOString().slice(0, 10) %></p>
        </div>
        <hr>
        <% } %>

        

        <div>
         <% if(pages > 0 ) { %>
            
          
          <ul class="nav tm-paging-links">

            <% for(i=1 ; i <=pages ; i++){ %>
                <% if (i === current) { %>
                  <li class="nav-item active"><a href="/?page=<%=i%>" class="nav-link tm-paging-link"><%=i%></a></li>
                <% } else if (i < pages) { %>
                  <li class="nav-item"><a href="/?page=<%=i%>" class="nav-link tm-paging-link"><%=i%></a></li>
                  <% } else { %>
                    <li class="nav-item"><a href="/?page=<%=i%>" class="nav-link tm-paging-link">></a></li>
                    <% } %>
              <% } %>
              <!-- <li class="nav-item"><a href="#" class="nav-link tm-paging-link">2</a></li>
              <li class="nav-item"><a href="#" class="nav-link tm-paging-link">3</a></li>
              <li class="nav-item"><a href="#" class="nav-link tm-paging-link">4</a></li>
              <li class="nav-item"><a href="#" class="nav-link tm-paging-link">></a></li> -->
          </ul>
            <%} %>
            
        </div>
      
        <!-- Pager -->
        <div class="clearfix">
          <a class="btn btn-primary float-right" href="#">Older Posts &rarr;</a>
        </div>
      </div>

      <div class="col-lg-2 col-md-5 mx-auto">
        <h4>Categories</h4>
        <ul class="list-group list-group-flush">
          <% for ( let i = 0 ; i < categories.length ; i++) { %>
            <li><a href="/?categories=<%=categories[i].slug %>"><%=categories[i].name %></a></li>
            <% } %>
        </ul>
      </div>
      
      
    </div>
  </div>
  <hr>

  <%- include('partials/_footer.ejs') -%>

 


